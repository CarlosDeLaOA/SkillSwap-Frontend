<div class="onb">
  <!-- Título -->
  <header class="hero">
    <h1>Selecciona tus <span>habilidades</span></h1>
  </header>

  <!-- Botón "Listo" fijo a la derecha, centrado vertical -->
  <button class="fab-done" (click)="save()" [disabled]="!selectedSkillIds().size">
    Listo <span>✓</span>
  </button>

  <!-- Categorías (tarjetas con imagen provisional) -->
  <section class="cats">
    <div class="cats__inner">
      <button class="cat"
              *ngFor="let c of categories(); index as i"
              [class.active]="c.id === selectedCategoryId()"
              (click)="pickCategory(c)">
        <div class="cat__img" [class.i1]="i%4===0" [class.i2]="i%4===1" [class.i3]="i%4===2" [class.i4]="i%4===3"></div>
        <div class="cat__name">{{ c.name }}</div>
      </button>
    </div>
  </section>

  <!-- Skills (tarjetas centradas con imagen provisional) -->
  <section class="skills-wrap" *ngIf="step() === 2">
    <h2 class="skills-title">{{ selectedCategory()?.name }}</h2>
    <div class="skills-grid">
      <button class="skill-card"
              *ngFor="let s of skills()"
              [class.sel]="isSelected(s.id)"
              (click)="toggleSkill(s)">
        <div class="skill-card__img" aria-hidden="true"></div>
        <div class="skill-card__name">{{ s.name }}</div>
      </button>
    </div>
  </section>

  <!-- Barra inferior: todas las seleccionadas -->
  <footer class="tray">
    <div class="tray__chips">
      <div class="chip" *ngFor="let s of selectedAll()">
        <button type="button" (click)="removeFromTray(s.id)" aria-label="Quitar">✕</button>
        {{ s.name }}
      </div>
    </div>
    <div class="actions">
      <button class="btn ghost" (click)="clearSelection()" [disabled]="!selectedSkillIds().size">Limpiar</button>
      <button class="btn primary" (click)="save()" [disabled]="!selectedSkillIds().size">Listo ✓</button>
    </div>
  </footer>

  <div *ngIf="errorMsg()" class="msg err">{{ errorMsg() }}</div>
  <div *ngIf="okMsg()" class="msg ok">{{ okMsg() }}</div>
</div>
